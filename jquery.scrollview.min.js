/*!
 * scrollview.js v0.1812
 * @copyright 2018 AJgarden
 * ##### Author: Jia #####
 * ##### Update: 2018/12/28 #####
 */
$.fn.scrollView=function(s){var e=$(this);if("destroy"===s)e.removeAttr("data-scroll-view");else{e.attr("data-scroll-view","init");var n=$.extend({},{start:"default",end:null,endKey:"bottom",threshold:-200,addClass:"scroll-view",repeat:!1,onInit:function(s){return!1},onChange:function(s){return!1},onAddClass:function(s){return!1},onRemoveClass:function(s){return!1}},s);e.each(function(s,e){var t=$(e);n.onInit.call(this,t)}),$(window).on("scroll",function(){var s=$(window).scrollTop();e.each(function(t,a){if("init"===e.attr("data-scroll-view")){var o=$(a);if(0==o.hasClass(n.addClass)){if("default"===n.start)var l=o.offset().top-$(window).height();else if("string"==typeof n.start)l=$(n.start).offset().top-$(window).height();else l=n.start;if(1==n.repeat)if(null!=n.end){if("string"==typeof n.end)if("top"==n.endKey)var d=$(n.end).offset().top-$(window).height();else if("number"==typeof n.endKey)d=$(n.end).offset().top+$(n.end).outerHeight()*Math.min(Math.max(0,n.endKey),1)-$(window).height();else d=$(n.end).offset().top+$(n.end).outerHeight()-$(window).height();else d=n.end;s+n.threshold>=l&&s+n.threshold<=d&&("function"==typeof n.onChange&&"function"==typeof n.onAddClass?(o.addClass(n.addClass),n.onAddClass.call(this,o),n.onChange.call(this,o)):"function"==typeof n.onChange?(o.addClass(n.addClass),n.onChange.call(this,o)):"function"==typeof n.onAddClass?(o.addClass(n.addClass),n.onAddClass.call(this,o)):o.addClass(n.addClass))}else s+n.threshold>=l&&("function"==typeof n.onChange&&"function"==typeof n.onAddClass?(o.addClass(n.addClass),n.onAddClass.call(this,o),n.onChange.call(this,o)):"function"==typeof n.onChange?(o.addClass(n.addClass),n.onChange.call(this,o)):"function"==typeof n.onAddClass?(o.addClass(n.addClass),n.onAddClass.call(this,o)):o.addClass(n.addClass));else s+n.threshold>=l&&("function"==typeof n.onChange&&"function"==typeof n.onAddClass?(o.addClass(n.addClass),n.onAddClass.call(this,o),n.onChange.call(this,o)):"function"==typeof n.onChange?(o.addClass(n.addClass),n.onChange.call(this,o)):"function"==typeof n.onAddClass?(o.addClass(n.addClass),n.onAddClass.call(this,o)):o.addClass(n.addClass))}else if(1==n.repeat){if("default"===n.start)l=o.offset().top-$(window).height();else if("string"==typeof n.start)l=$(n.start).offset().top-$(window).height();else l=n.start;if(null!=n.end){if("string"==typeof n.end)if("top"==n.endKey)d=$(n.end).offset().top-$(window).height();else if("number"==typeof n.endKey)d=$(n.end).offset().top+$(n.end).outerHeight()*Math.min(Math.max(0,n.endKey),1)-$(window).height();else d=$(n.end).offset().top+$(n.end).outerHeight()-$(window).height();else d=n.end;(s+n.threshold<l||s+n.threshold>d)&&("function"==typeof n.onChange&&"function"==typeof n.onRemoveClass?(o.removeClass(n.addClass),n.onRemoveClass.call(this,o),n.onChange.call(this,o)):"function"==typeof n.onChange?(o.removeClass(n.addClass),n.onChange.call(this,o)):"function"==typeof n.onRemoveClass?(o.removeClass(n.addClass),n.onRemoveClass.call(this,o)):o.removeClass(n.addClass))}else s+n.threshold<l&&("function"==typeof n.onChange&&"function"==typeof n.onRemoveClass?(o.removeClass(n.addClass),n.onRemoveClass.call(this,o),n.onChange.call(this,o)):"function"==typeof n.onChange?(o.removeClass(n.addClass),n.onChange.call(this,o)):"function"==typeof n.onRemoveClass?(o.removeClass(n.addClass),n.onRemoveClass.call(this,o)):o.removeClass(n.addClass))}}})}).trigger("scroll"),$(window).on("resize",function(){$(this).trigger("scroll")})}};
